<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>

    <link rel="stylesheet" href="../style.css" />

    <!-- Admin-LTE CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css"
    />

    <!-- Admin-LTE Script -->
    <script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>
  </head>
  <body>
    <div class="card login-card card-primary">
      <div class="card-header">
        <h3 class="card-title">Admin Login</h3>
      </div>
      <form id="loginForm" method="POST" action="/login" enctype="application/x-www-form-urlencoded" novalidate="novalidate">
        <div class="card-body">
          <div class="form-group">
            <label for="exampleInputEmail1">Email address</label>
            <input
              type="email"
              name="email"
              class="form-control"
              id="exampleInputEmail1"
              placeholder="Enter email"
            />
          </div>
          <div class="form-group">
            <label for="exampleInputPassword1">Password</label>
            <input
              type="password"
              name="password"
              class="form-control"
              id="exampleInputPassword1"
              placeholder="Password"
            />
          </div>
        </div>
        <div class="card-footer bg-white text-center">
          <button type="submit" class="btn btn-primary">
            Login
          </button>
          <div class="mt-3">
            <p>
              Don't have an account? <a href="/signup" class="text-primary">Sign Up</a>
            </p>
          </div>
        </div>
      </form>
    </div>
  
    <script>
      const loginForm = document.getElementById('loginForm');
      const emailInput = document.getElementById('exampleInputEmail1');
      const passwordInput = document.getElementById('exampleInputPassword1');
    
      loginForm.addEventListener('submit', (event) => {
        event.preventDefault(); // Prevent the form from submitting immediately
        let isValid = true;
    
        // Email validation
        if (!isValidEmail(emailInput.value.trim())) {
          showError(emailInput);
          isValid = false;
        } else {
          hideError(emailInput);
        }
    
        // Password validation
        if (passwordInput.value.trim() === '') {
          showError(passwordInput);
          isValid = false;
        } else {
          hideError(passwordInput);
        }
    
        // Submit the form if all inputs are valid
        if (isValid) {
          loginForm.submit();
        }
      });
    
      function showError(input) {
        input.classList.add('is-invalid');
      }
    
      function hideError(input) {
        input.classList.remove('is-invalid');
      }
    
      function isValidEmail(email) {
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailPattern.test(email);
      }
    </script>
    
    <style>
      .is-invalid {
        border: 2px solid red !important;
      }
      .text-center {
        text-align: center;
      }
      .mt-3 {
        margin-top: 1rem;
      }
    </style>
  </body>
</html>
